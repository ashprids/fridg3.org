<pre id="ascii" style="color:#43946a;font-size:12.5px">
SSSSS       .sSSSSs.    .sSSSSs.    SSSSS .sSSSs.  SSSSS <span style="font-size:14px;color:rgb(82, 82, 82)" data-tooltip="accounts are used to post to the feed, journal, and other areas on the website.\nlogins are invite-only, and are given out specifically by me.">?</span>
S SSS       S SSSSSSSs. S SSSSSSSs. S SSS S SSS SS SSSSS
S  SS       S  SS SSSSS S  SS SSSS' S  SS S  SS  `sSSSSS
S..SS       S..SS SSSSS S..SS       S..SS S..SS    SSSSS
S:::S       S:::S SSSSS S:::S`sSSs. S:::S S:::S    SSSSS
S;;;S       S;;;S SSSSS S;;;S SSSSS S;;;S S;;;S    SSSSS
S%%%S SSSSS S%%%S SSSSS S%%%S SSSSS S%%%S S%%%S    SSSSS
SSSSSsSS;:' SSSSSsSSSSS SSSSSsSSSSS SSSSS SSSSS    SSSSS
</pre><br>

<form id="login-form" method="POST" action="/account/login/index.php" data-no-spa="1">
    <input type="hidden" name="csrf_token" value="<?php echo htmlspecialchars($_SESSION['csrf_token'] ?? '', ENT_QUOTES, 'UTF-8'); ?>">
    <h3>username</h3>
    <input id="textbox" name="username" type="text" required maxlength="50" pattern="[a-zA-Z0-9_-]+" autocomplete="username">

    <h3>password</h3>
    <input id="textbox" name="password" type="password" maxlength="128" autocomplete="current-password">
    <br><br>
    <span id="error"></span>

    <br><br><br>
    <button id="form-button" type="submit">login</button>
</form>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('login-form');
    const usernameInput = document.querySelector('input[name="username"]');
    const passwordInput = document.querySelector('input[name="password"]');
    const errorSpan = document.getElementById('error');
    const contentDiv = document.getElementById('content');
    
    // Display any info (e.g., logged out)
    if (contentDiv && contentDiv.getAttribute('data-login-info')) {
        const msg = contentDiv.getAttribute('data-login-info');
        if (msg) {
            errorSpan.textContent = msg;
            errorSpan.style.color = 'rgb(120, 200, 120)';
        }
        contentDiv.removeAttribute('data-login-info');
    }
    
    // Display any login error from PHP
    if (contentDiv && contentDiv.getAttribute('data-login-error')) {
        errorSpan.textContent = contentDiv.getAttribute('data-login-error');
        errorSpan.style.color = 'red';
        contentDiv.removeAttribute('data-login-error');
    }
    
    // Handle form submission
    form.addEventListener('submit', function(e) {
        errorSpan.textContent = '';
        
        if (!usernameInput.value.trim()) {
            e.preventDefault();
            errorSpan.textContent = 'Please enter a username.';
            errorSpan.style.color = 'red';
            return;
        }
        
        // Allow form to submit (POST to same page)
    });
});
</script>